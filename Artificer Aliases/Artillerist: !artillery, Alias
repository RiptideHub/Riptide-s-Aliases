!artillery [summon|prot|force|flame] [-t target] (if prot)

!alias artillery {{N,c,ar,a,A,cc,g,D='\n',combat(),argparse(&ARGS&),&ARGS&[0] if &ARGS& else '',int(get('ArtificerLevel',0)),"Eldritch Cannon",load_json(get_gvar("d3aabe9e-15e6-4a9e-9512-0ae4df684f07")),dump_json}}{{T,P,F,S,B,v=ar.get("t") if ar.get("t") else '',"prot" in a,"flame" in a,"summon" in a,"force" in a,cc_exists(cc) and get_cc(cc)>0}}{{"a import" if F or B else "multiline" if S else "embed"}} {{f'''{D(g[4])}''' if F else f'''{D(g[3])}''' if B else ''}}
{{"!embed" if S else ''}}{{t,thp,s=[c.get_combatant(x) for x in T] if c and T and P else [],vroll(f"1d8+{intelligenceMod}"),ar.last('l',1,int)}}{{[x.set_thp(thp.total) for x in t] if t and P else ''}}{{(mod_cc(cc,-1) if v else use_slot(s) if get_slots(s) and not v else err(f'No spell slots of Level {s} remaining.')) if S else ''}} {{'' if F or B else f'-title "{name} {"summons" if S else "uses"} their {"Protector Cannon" if P else cc}!"'}} {{'' if F or B else f'-desc "{f"{g[5]}" if P else f"{cc} has been summoned!" if S else f"{g[2]}"}"'}} {{'' if F or B else f'-f "THP Roll|{thp}"' if P else ''}} {{'' if F or B else f'-footer "{N.join([str(x) for x in t]) if t else ""}{N if P else ""}!artillery [summon|prot|force|flame] [-t target] (if prot)" '}} {{'' if F or B else f"-color {color} -thumb {image}"}} {{f'-f "{cc if v else "Spell Slots"} (-1)|{cc_str(cc) if v else slots_str(s)}"' if S else ''}}
{{f'!i add 0 "{cc} ({name})" -hp {A*5} -ac 18 -immune psychic -immune poison -p 10' if S else ''}}
{{f'!i add 0 "{cc} ({name}) (2)" -hp {A*5} -ac 18 -immune psychic -immune poison -p 10' if S and A>14 else ''}}
